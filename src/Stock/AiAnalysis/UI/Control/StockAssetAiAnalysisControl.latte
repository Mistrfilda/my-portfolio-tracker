{templateType App\Stock\AiAnalysis\UI\Control\StockAssetAiAnalysisControlTemplate}

<div class="bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden">
	<div class="px-4 py-5 sm:px-6 bg-gradient-to-r from-indigo-50 to-blue-50 border-b border-gray-200">
		<h3 class="text-lg leading-6 font-semibold text-gray-900">ğŸ¤– AI analÃ½za</h3>
		<p class="mt-1 max-w-2xl text-sm text-gray-500">PoslednÃ­ch 5 zÃ¡znamÅ¯ (pokud existujÃ­)</p>
	</div>
	<div class="px-4 py-5 sm:p-6">
		{if count($results) === 0}
			<p class="text-sm text-gray-500 italic">Pro tuto akcii zatÃ­m nejsou k dispozici Å¾Ã¡dnÃ© vÃ½sledky AI analÃ½zy.</p>
		{else}
			<div class="space-y-4">
				{foreach $results as $res}
					<div class="rounded-lg border border-gray-200 overflow-hidden hover:shadow-sm transition-shadow">
						<div class="px-4 py-3 bg-gray-50 border-b border-gray-200">
							<div class="flex items-center justify-between">
								<div class="flex items-center gap-2">
									<span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium {if $res->getType()->value === 'portfolio'}bg-blue-100 text-blue-800 ring-1 ring-inset ring-blue-200{else}bg-purple-100 text-purple-800 ring-1 ring-inset ring-purple-200{/if}">
										{if $res->getType()->value === 'portfolio'}ğŸ’¼ Portfolio{else}ğŸ‘€ Watchlist{/if}
									</span>
									{if $res->getActionSuggestion()}
										{if $res->getActionSuggestion()->value === 'add_more' || $res->getActionSuggestion()->value === 'consider_buying'}
											<span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold bg-green-100 text-green-800 ring-1 ring-inset ring-green-300">
												{if $res->getActionSuggestion()->value === 'add_more'}ğŸ“ˆ PÅ™ikoupit{else}ğŸ›’ ZvÃ¡Å¾it nÃ¡kup{/if}
											</span>
										{elseif $res->getActionSuggestion()->value === 'consider_selling'}
											<span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold bg-red-100 text-red-800 ring-1 ring-inset ring-red-300">
												ğŸ“‰ ZvÃ¡Å¾it prodej
											</span>
										{elseif $res->getActionSuggestion()->value === 'hold'}
											<span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold bg-blue-100 text-blue-800 ring-1 ring-inset ring-blue-300">
												âœŠ DrÅ¾et
											</span>
										{elseif $res->getActionSuggestion()->value === 'watch_closely'}
											<span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold bg-amber-100 text-amber-800 ring-1 ring-inset ring-amber-300">
												ğŸ‘ï¸ Sledovat
											</span>
										{elseif $res->getActionSuggestion()->value === 'wait'}
											<span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold bg-gray-100 text-gray-700 ring-1 ring-inset ring-gray-300">
												â³ VyÄkat
											</span>
										{elseif $res->getActionSuggestion()->value === 'not_interesting'}
											<span class="inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold bg-gray-100 text-gray-500 ring-1 ring-inset ring-gray-300">
												âŒ NezajÃ­mavÃ©
											</span>
										{/if}
									{/if}
								</div>
								<span class="text-xs text-gray-500">{$res->getStockAiAnalysisRun()->getCreatedAt()|datetimeFormat:App\Utils\Datetime\DatetimeConst::SYSTEM_DATETIME_FORMAT}</span>
							</div>
						</div>
						<div class="px-4 py-3">
							<div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
								{if $res->getPositiveNews()}
									<div class="rounded-md bg-green-50 border border-green-200 p-2.5">
										<div class="text-xs font-semibold text-green-800 uppercase tracking-wide mb-1">âœ… Pozitiva</div>
										<p class="text-sm text-green-700 leading-relaxed">{$res->getPositiveNews()}</p>
									</div>
								{/if}
								{if $res->getNegativeNews()}
									<div class="rounded-md bg-red-50 border border-red-200 p-2.5">
										<div class="text-xs font-semibold text-red-800 uppercase tracking-wide mb-1">âš ï¸ Negativa</div>
										<p class="text-sm text-red-700 leading-relaxed">{$res->getNegativeNews()}</p>
									</div>
								{/if}
								{if $res->getInterestingNews()}
									<div class="rounded-md bg-amber-50 border border-amber-200 p-2.5">
										<div class="text-xs font-semibold text-amber-800 uppercase tracking-wide mb-1">ğŸ’¡ ZajÃ­mavosti</div>
										<p class="text-sm text-amber-700 leading-relaxed">{$res->getInterestingNews()}</p>
									</div>
								{/if}
								{if $res->getAiOpinion()}
									<div class="rounded-md bg-indigo-50 border border-indigo-200 p-2.5">
										<div class="text-xs font-semibold text-indigo-800 uppercase tracking-wide mb-1">ğŸ¤– NÃ¡zor AI</div>
										<p class="text-sm text-indigo-700 leading-relaxed">{$res->getAiOpinion()}</p>
									</div>
								{/if}
								{if $res->getNews()}
									<div class="rounded-md bg-blue-50 border border-blue-200 p-2.5">
										<div class="text-xs font-semibold text-blue-800 uppercase tracking-wide mb-1">ğŸ“° Novinky</div>
										<p class="text-sm text-blue-700 leading-relaxed">{$res->getNews()}</p>
									</div>
								{/if}
								{if $res->getReasoning()}
									<div class="rounded-md bg-indigo-50 border border-indigo-200 p-2.5">
										<div class="text-xs font-semibold text-indigo-800 uppercase tracking-wide mb-1">ğŸ’­ ZdÅ¯vodnÄ›nÃ­</div>
										<p class="text-sm text-indigo-700 leading-relaxed">{$res->getReasoning()}</p>
									</div>
								{/if}
							</div>
						</div>
					</div>
				{/foreach}
			</div>
		{/if}
	</div>
</div>
